cscope 15 D:\Projects\Compilers\VimAssist"               0000016065
	@Basic\Common.cpp

1 
	~"CommÚ.h
"

3 cÚ¡ 
_TCHAR
* 
	gNewLšeSŒ
 = 
_T
("\n");

4 cÚ¡ 
_TCHAR
 
	gNewLšeCh¬
 = '\n';

	@Basic\Common.h

1 #iâdeà
__COMMON_H__


2 
	#__COMMON_H__


	)

3 #´agm¨
w¬nšg
Ğ
di§bË
 : 4996 )

5 
	~<tch¬.h
>

6 
	~<io¡»am
>

7 
	~<as£¹.h
>

8 
	~<¡ršg
>

10 
usšg
 
Çme¥aû
 
	g¡d
;

12 cÚ¡ 
_TCHAR
* 
NewLšeSŒ
;

13 cÚ¡ 
_TCHAR
 
NewLšeCh¬
;

	@Basic\Location.h

1 #iâdeà
__SOURCE_LOCATION_H__


2 
	#__SOURCE_LOCATION_H__


	)

4 şas 
	cLoÿtiÚ


6 
	mpublic
:

7 
	$LoÿtiÚ
(
row
, 
cŞumn
)

8 : 
	`Row
(
row
),

9 
	$CŞumn
(
cŞumn
)

13 
	$LoÿtiÚ
()

14 : 
	`Row
(0), 
	$CŞumn
(0)

16 
	}
}

18 
	gRow
;

19 
	gCŞumn
;

	@Lexer\Token.cpp

1 
	~"Lex”\Tok’Kšd.h
"

2 
	~"Lex”\Tok’SŒ—m.h
"

3 
	~"Lex”\Tok’.h
"

5 
	gTok’
::
	$Tok’
(cÚ¡ 
_TCHAR
* 
cÚ‹Á
)

6 : 
	$cÚ‹Á
(
cÚ‹Á
)

8 
this
->
	`P¬£Kšd
();

9 
	}
}

11 
	gTok’
::
	$Tok’
(cÚ¡ 
_TCHAR
 *
cÚ‹Á
, 
LoÿtiÚ
 
loÿtiÚ
)

12 : 
	$cÚ‹Á
(
cÚ‹Á
)

14 
this
->
	`P¬£Kšd
();

15 
this
->
loÿtiÚ
 =†ocation;

16 
	}
}

18 
	gTok’
::~
	$Tok’
()

20 
	}
}

22 
Tok’
::
	$P¬£Kšd
()

24 
this
->
kšd
 = 
Tok’M©ch”
::
	`G‘Me
().
	`G‘Tok’Kšd
Ñhis->
cÚ‹Á
.
	`c_¡r
());

25 
	}
}

27 
Tok’Kšd
 
	gTok’
::
	$G‘Kšd
() const

29  
this
->
kšd
;

30 
	}
}

	@Lexer\Token.h

1 #iâdeà
__TOKEN_H__


2 
	#__TOKEN_H__


	)

3 
	~"Basic\CommÚ.h
"

4 
	~"Basic\LoÿtiÚ.h
"

5 
	gTok’Kšd
;

7 şas 
	cTok’


9 
	mpublic
:

10 
Tok’
(cÚ¡ 
_TCHAR
*);

11 
Tok’
(cÚ¡ 
_TCHAR
 *
cÚ‹Á
, 
LoÿtiÚ
 
loÿtiÚ
);

12 ~
Tok’
();

13 
Tok’Kšd
 
	$G‘Kšd
() const;

15 
´iv©e
:

16 
	`P¬£Kšd
();

18 
´iv©e
:

19 
Tok’Kšd
 
kšd
;

20 
LoÿtiÚ
 
loÿtiÚ
;

21 
w¡ršg
 
cÚ‹Á
;

	@Lexer\TokenKind.cpp

1 
	~"Tok’Kšd.h
"

3 
Tok’M©ch”
* 
	gTok’M©ch”
::
s_Tok’M©ch”
 = 
NULL
;

5 cÚ¡ 
	gTok’M©ch”
& Tok’M©ch”::
	$G‘Me
()

7 ià(
s_Tok’M©ch”
 =ğ
NULL
)

9 
s_Tok’M©ch”
 = 
Ãw
 
	`Tok’M©ch”
();

12  *
s_Tok’M©ch”
;

13 
	}
}

15 
	gTok’M©ch”
::
	$R–—£
()

17 
d–‘e
 
s_Tok’M©ch”
;

18 
	}
}

20 
	gTok’M©ch”
::
	$Tok’M©ch”
()

22 
this
->
	`BudTok’Kšd2Tok’M­
();

23 
this
->
	`BudTok’2Tok’KšdM­
();

24 
	}
}

26 
	gTok’M©ch”
::~
	$Tok’M©ch”
()

27 {
	}
}

29 
Tok’M©ch”
::
	$BudTok’Kšd2Tok’M­
()

31 
this
->
tok’Kšd2Tok’M­
[
If
] = 
	`_T
("if");

32 
this
->
tok’Kšd2Tok’M­
[
El£
] = 
	`_T
("else");

33 
this
->
tok’Kšd2Tok’M­
[
Whe
] = 
	`_T
("while");

34 
this
->
tok’Kšd2Tok’M­
[
Do
] = 
	`_T
("do");

35 
this
->
tok’Kšd2Tok’M­
[
Public
] = 
	`_T
("public");

36 
this
->
tok’Kšd2Tok’M­
[
Priv©e
] = 
	`_T
("private");

37 
this
->
tok’Kšd2Tok’M­
[
PrÙeùed
] = 
	`_T
("protected");

38 
this
->
tok’Kšd2Tok’M­
[
CÚ¡
] = 
	`_T
("const");

39 
this
->
tok’Kšd2Tok’M­
[
Ty³def
] = 
	`_T
("typedef");

40 
this
->
tok’Kšd2Tok’M­
[
IÁ
] = 
	`_T
("int");

41 
this
->
tok’Kšd2Tok’M­
[
LÚg
] = 
	`_T
("long");

42 
this
->
tok’Kšd2Tok’M­
[
ShÜt
] = 
	`_T
("short");

43 
this
->
tok’Kšd2Tok’M­
[
UshÜt
] = 
	`_T
("ushort");

44 
this
->
tok’Kšd2Tok’M­
[
CÏss
] = 
	`_T
("class");

45 
this
->
tok’Kšd2Tok’M­
[
SŒuù
] = 
	`_T
("struct");

46 
this
->
tok’Kšd2Tok’M­
[
Comma
] = 
	`_T
(",");

47 
this
->
tok’Kšd2Tok’M­
[
SemicŞÚ
] = 
	`_T
(";");

48 
this
->
tok’Kšd2Tok’M­
[
DÙ
] = 
	`_T
(".");

49 
this
->
tok’Kšd2Tok’M­
[
S·û
] = 
	`_T
(" ");

50 
this
->
tok’Kšd2Tok’M­
[
Tab
] = 
	`_T
("\t");

51 
this
->
tok’Kšd2Tok’M­
[
NewLše
] = 
	`_T
("\n");

52 
this
->
tok’Kšd2Tok’M­
[
Plus
] = 
	`_T
("+");

53 
this
->
tok’Kšd2Tok’M­
[
Mšus
] = 
	`_T
("-");

54 
this
->
tok’Kšd2Tok’M­
[
MuÉË
] = 
	`_T
("*");

55 
this
->
tok’Kšd2Tok’M­
[
DivisiÚ
] = 
	`_T
("/");

56 
this
->
tok’Kšd2Tok’M­
[
Gt
] = 
	`_T
(">");

57 
this
->
tok’Kšd2Tok’M­
[
Lt
] = 
	`_T
("<");

58 
this
->
tok’Kšd2Tok’M­
[
And
] = 
	`_T
("&");

59 
this
->
tok’Kšd2Tok’M­
[
Sh¬p
] = 
	`_T
("#");

60 
this
->
tok’Kšd2Tok’M­
[
Bªg
] = 
	`_T
("!");

61 
this
->
tok’Kšd2Tok’M­
[
Que¡iÚM¬k
] = 
	`_T
("?");

62 
this
->
tok’Kšd2Tok’M­
[
Or
] = 
	`_T
("|");

63 
this
->
tok’Kšd2Tok’M­
[
AndAnd
] = 
	`_T
("&&");

64 
this
->
tok’Kšd2Tok’M­
[
OrOr
] = 
	`_T
("||");

65 
this
->
tok’Kšd2Tok’M­
[
LSm®lB¿û
] = 
	`_T
("(");

66 
this
->
tok’Kšd2Tok’M­
[
RSm®lB¿û
] = 
	`_T
(")");

67 
this
->
tok’Kšd2Tok’M­
[
LMiddËB¿û
] = 
	`_T
("[");

68 
this
->
tok’Kšd2Tok’M­
[
RMiddËB¿û
] = 
	`_T
("]");

69 
this
->
tok’Kšd2Tok’M­
[
LL¬geB¿û
] = 
	`_T
("{");

70 
this
->
tok’Kšd2Tok’M­
[
RL¬geB¿û
] = 
	`_T
("}");

71 
this
->
tok’Kšd2Tok’M­
[
BackSÏsh
] = 
	`_T
("\\");

72 
this
->
tok’Kšd2Tok’M­
[
LšeComm’‹r
] = 
	`_T
("//");

73 
this
->
tok’Kšd2Tok’M­
[
BlockComm’‹rBegš
] = 
	`_T
("/*");

74 
this
->
tok’Kšd2Tok’M­
[
BlockComm’‹rEnd
] = 
	`_T
("*/");

75 
this
->
tok’Kšd2Tok’M­
[
Stic
] = 
	`_T
("static");

76 
this
->
tok’Kšd2Tok’M­
[
IâDef
] = 
	`_T
("ifndef");

77 
this
->
tok’Kšd2Tok’M­
[
Defše
] = 
	`_T
("define");

78 
this
->
tok’Kšd2Tok’M­
[
EndIf
] = 
	`_T
("endif");

79 
this
->
tok’Kšd2Tok’M­
[
CŞÚ
] = 
	`_T
(":");

80 
this
->
tok’Kšd2Tok’M­
[
DoubËQuÙa
] = 
	`_T
("\"");

81 
this
->
tok’Kšd2Tok’M­
[
SšgËQuÙa
] = 
	`_T
("\'");

82 
this
->
tok’Kšd2Tok’M­
[
Inşude
] = 
	`_T
("include");

83 
	}
}

85 
	gTok’M©ch”
::
	$BudTok’2Tok’KšdM­
()

87 
kšd
 = 
Tok’KšdS¹
 + 1; kšd < 
Tok’KšdEnd
; kind++)

89 
w¡ršg
 
tok’
 = 
this
->
tok’Kšd2Tok’M­
[
kšd
];

90 ià(
tok’
.
	`Ëngth
(è=ğ0 && 
kšd
 !ğ
Id’tif›r
)

92 
”rMsg
[128] = { 0 };

93 
	`¥rštf
(
”rMsg
, "Tok’ ha nØcÚ‹Á, Tok’Kšd = %d", 
kšd
);

94 
	`as£¹
(
çl£
, 
”rMsg
);

96 
this
->
tok’2Tok’KšdM­
[
tok’
] = (
Tok’Kšd
è
kšd
;

98 
	}
}

100 
Tok’Kšd
 
	gTok’M©ch”
::
	$G‘Tok’Kšd
(cÚ¡ 
_TCHAR
* 
tok’
) const

102 
m­
<
w¡ršg
, 
Tok’Kšd
>::
cÚ¡_™”©Ü
 
™
 = 
this
->
tok’2Tok’KšdM­
.
	`fšd
(
tok’
);

103 ià(
™
 !ğ
this
->
tok’2Tok’KšdM­
.
	`ûnd
())

105  
™
->
£cÚd
;

109  
Id’tif›r
;

111 
	}
}

113 
Tok’Kšd
 
	gTok’M©ch”
::
	$G‘Tok’Kšd
(
_TCHAR
 
tok’
) const

115 
TCHAR
 
tok’SŒ
[2] = { 
tok’
, 0 };

116  
this
->
	`G‘Tok’Kšd
(
tok’SŒ
);

117 
	}
}

119 
boŞ
 
	gTok’M©ch”
::
	$IsD–im™”Tok’
(
Tok’Kšd
 
tok’Kšd
) const

121  (
tok’Kšd
 >ğ
D–im™”S¹
 &&ok’Kšd <ğ
D–im™”End
);

122 
	}
}

	@Lexer\TokenKind.h

1 #iâdeà
__TOKEN_KIND_H__


2 
	#__TOKEN_KIND_H__


	)

3 
	~"Basic\CommÚ.h
"

4 
	~<m­
>

5 
	~"Tok’.h
"

6 
	~<¡ršg
>

8 
	eTok’Kšd


10 
	mTok’KšdS¹
,

13 
	mIf
,

14 
	mEl£
,

15 
	mWhe
,

16 
	mDo
,

19 
	mPublic
,

20 
	mPriv©e
,

21 
	mPrÙeùed
,

24 
	mCÚ¡
,

25 
	mStic
,

28 
	mIâDef
,

29 
	mDefše
,

30 
	mEndIf
,

31 
	mInşude
,

34 
	mTy³def
,

35 
	mIÁ
,

36 
	mLÚg
,

37 
	mShÜt
,

38 
	mUshÜt
,

39 
	mCÏss
,

40 
	mSŒuù
,

43 
	mD–im™”S¹
,

44 
	mComma
 = 
D–im™”S¹
,

45 
	mSemicŞÚ
,

46 
	mDÙ
,

47 
	mS·û
,

48 
	mTab
,

49 
	mNewLše
,

50 
	mLSm®lB¿û
,

51 
	mRSm®lB¿û
,

52 
	mLMiddËB¿û
,

53 
	mRMiddËB¿û
,

54 
	mLL¬geB¿û
,

55 
	mRL¬geB¿û
,

56 
	mSh¬p
,

57 
	mBackSÏsh
,

58 
	mCŞÚ
,

59 
	mDoubËQuÙa
,

60 
	mSšgËQuÙa
,

62 
	mLšeComm’‹r
,

63 
	mBlockComm’‹rBegš
,

64 
	mBlockComm’‹rEnd
,

66 
	mPlus
,

67 
	mMšus
,

68 
	mMuÉË
,

69 
	mDivisiÚ
,

70 
	mGt
,

71 
	mLt
,

72 
	mQue¡iÚM¬k
,

73 
	mBªg
,

74 
	mAnd
,

75 
	mOr
,

76 
	mD–im™”End
 = 
Or
,

79 
	mAndAnd
,

80 
	mOrOr
,

82 
	mId’tif›r
,

84 
	mTok’KšdEnd
,

87 şas 
	cTok’M©ch”


89 
	mpublic
:

90 
Tok’M©ch”
* 
s_Tok’M©ch”
;

91 cÚ¡ 
	mTok’M©ch”
& 
G‘Me
();

92 
R–—£
();

94 ~
Tok’M©ch”
();

95 
Tok’Kšd
 
	$G‘Tok’Kšd
(cÚ¡ 
_TCHAR
* 
tok’
) const;

96 
Tok’Kšd
 
	$G‘Tok’Kšd
(
_TCHAR
 
tok’
) const;

97 
boŞ
 
	$IsD–im™”Tok’
(
Tok’Kšd
 
tok’Kšd
) const;

99 
´iv©e
:

100 
	`Tok’M©ch”
();

101 
	`BudTok’Kšd2Tok’M­
();

102 
	`BudTok’2Tok’KšdM­
();

104 
w¡ršg
 
tok’Kšd2Tok’M­
[
Tok’KšdEnd
];

105 
m­
<
w¡ršg
, 
Tok’Kšd
> 
tok’2Tok’KšdM­
;

	@Lexer\TokenStream.cpp

1 
	~<f¡»am
>

2 
	~<¡»ambuf
>

3 
	~"Lex”\Tok’SŒ—m.h
"

4 
	~"Tok’Kšd.h
"

5 
	~"Basic\LoÿtiÚ.h
"

7 
	gTok’SŒ—m
::
	$Tok’SŒ—m
(cÚ¡ 
w¡ršg
 
·th
)

8 :
	`·th
(
·th
), 
	$cu¼’tIndex
(0)

10 
this
->
	`P¬£Fe
();

11 
	}
}

13 
	gTok’SŒ—m
::~
	$Tok’SŒ—m
()

15 
i
 = 0; i < 
this
->
tok’s
.
	`size
(); i++)

17 
d–‘e
 
this
->
tok’s
[
i
];

19 
	}
}

21 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$GÙoS¹
()

23 
this
->
cu¼’tIndex
 = 0;

24  
this
->
	`G‘Tok’
Ñhis->
cu¼’tIndex
);

25 
	}
}

27 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$G‘Cu¼’tTok’
()

29  
this
->
	`G‘Tok’
Ñhis->
cu¼’tIndex
);

30 
	}
}

32 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$G‘NextTok’
()

34  
this
->
	`G‘Tok’
Ñhis->
cu¼’tIndex
 + 1);

35 
	}
}

37 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$G‘P»vTok’
()

39  
this
->
	`G‘Tok’
Ñhis->
cu¼’tIndex
 - 1);

40 
	}
}

42 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$G‘Tok’
(
šdex
)

44 ià(
šdex
 < 0 || index >ğ
this
->
tok’s
.
	`size
())

46  
NULL
;

50  
this
->
tok’s
[
šdex
];

52 
	}
}

54 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$MoveToNextTok’
()

56 
this
->
cu¼’tIndex
++;

57  
this
->
	`G‘Cu¼’tTok’
();

58 
	}
}

60 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$MoveToP»vTok’
()

62 
this
->
cu¼’tIndex
--;

63  
this
->
	`G‘Cu¼’tTok’
();

64 
	}
}

66 
	gTok’SŒ—m
::
	$P¬£Fe
()

68 
wif¡»am
 
	`feSŒ—m
(
this
->
·th
);

69 
w¡ršg
 
	`feSŒ
((
i¡»ambuf_™”©Ü
<
_TCHAR
>(
feSŒ—m
)), istreambuf_iterator<_TCHAR>());

70 cÚ¡ 
Tok’M©ch”
& 
tok’M©ch”
 = Tok’M©ch”::
	`G‘Me
();

71 
tok’Row
 = 1;

72 
tok’CŞumn
 = 1;

73 cÚ¡ 
¥aûWidth
 = 1;

74 cÚ¡ 
bWidth
 = 4;

75 
begšPos
, 
’dPos
 = 0;ƒndPo < 
feSŒ
.
	`size
();ƒndPos < fileStr.size())

78 
¥aûCouÁ
, 
bCouÁ
 = 0;

79 
this
->
	`SkWh™e¥aûs
(
feSŒ
, 
’dPos
, 
¥aûCouÁ
, 
bCouÁ
);

80 
tok’CŞumn
 =ok’CŞumÀ+ 
¥aûCouÁ
 * 
¥aûWidth
 + 
bCouÁ
 * 
bWidth
;

83 
begšPos
 = 
’dPos
;

84 
Tok’Kšd
 
begšPosTok’Kšd
 = 
tok’M©ch”
.
	`G‘Tok’Kšd
(
feSŒ
[
begšPos
]);

85 
boŞ
 
isNewLšeH™
 = 
çl£
;

86 ià(
tok’M©ch”
.
	`IsD–im™”Tok’
(
begšPosTok’Kšd
))

88 
’dPos
++;

89 ià(
begšPosTok’Kšd
 =ğ
NewLše
)

91 
isNewLšeH™
 = 
Œue
;

96 !
tok’M©ch”
.
	`IsD–im™”Tok’
Ñok’M©ch”.
	`G‘Tok’Kšd
(
feSŒ
[
’dPos
])))

98 
’dPos
++;

103 cÚ¡ 
maxCh¬CouÁInTok’
 = 128;

104 
_TCHAR
 
tok’Ch¬s
[
maxCh¬CouÁInTok’
] = { 0 };

105 
feSŒ
.
	`cİy
(
tok’Ch¬s
, 
’dPos
 - 
begšPos
, beginPos);

106 
Tok’
 *
ÃwTok’
 = 
Ãw
 
	`Tok’
(
tok’Ch¬s
, 
	`LoÿtiÚ
(
tok’Row
, 
tok’CŞumn
));

107 
this
->
tok’s
.
	`push_back
(
ÃwTok’
);

108 #ifdeà
VaDebug


109 
wcout
 <<"[" << 
tok’Row
 <<", " <<
tok’CŞumn
 <<"]" <<"\t\t" <<
tok’Ch¬s
 <<
’dl
;

111 
tok’CŞumn
 =ok’CŞumÀ+ (
’dPos
 - 
begšPos
);

113 ià(
isNewLšeH™
)

115 
tok’Row
++;

116 
tok’CŞumn
 = 1;

119 
	}
}

121 
	gTok’SŒ—m
::
	$SkWh™e¥aûs
(cÚ¡ 
w¡ršg
 &
¡»am
, &
pos
, &
¥aûCouÁ
, &
bCouÁ
)

123 
¥aûCouÁ
 = 0;

124 
bCouÁ
 = 0;

126 cÚ¡ 
Tok’M©ch”
 &
tok’M©ch”
 = Tok’M©ch”::
	`G‘Me
();

127 
Tok’Kšd
 
tok’Kšd
 = 
tok’M©ch”
.
	`G‘Tok’Kšd
(
¡»am
[
pos
]);

128 
tok’Kšd
 =ğ
S·û
 ||ok’Kšd =ğ
Tab
)

130 ià(
tok’Kšd
 =ğ
S·û
)

132 
¥aûCouÁ
++;

134 ià(
tok’Kšd
 =ğ
Tab
)

136 
bCouÁ
++;

138 
pos
++;

139 
tok’Kšd
 = 
tok’M©ch”
.
	`G‘Tok’Kšd
(
¡»am
[
pos
]);

141 
	}
}

	@Lexer\TokenStream.h

1 #iâdeà
__SOURCE_FILE_H__


2 
	#__SOURCE_FILE_H__


	)

3 
	~"Basic\CommÚ.h
"

4 
	~<veùÜ
>

5 
	~<¡ršg
>

7 
şass
 
	gTok’
;

9 şas 
	cTok’SŒ—m


11 
	mpublic
:

12 
Tok’SŒ—m
(cÚ¡ 
w¡ršg
 
·th
);

13 ~
Tok’SŒ—m
();

15 
P¬£Fe
();

16 cÚ¡ 
Tok’
* 
GÙoS¹
();

17 cÚ¡ 
Tok’
* 
G‘Cu¼’tTok’
();

18 cÚ¡ 
Tok’
* 
G‘NextTok’
();

19 cÚ¡ 
Tok’
* 
G‘P»vTok’
();

20 cÚ¡ 
Tok’
* 
MoveToNextTok’
();

21 cÚ¡ 
Tok’
* 
MoveToP»vTok’
();

23 
	m´iv©e
:

24 
SkWh™e¥aûs
(cÚ¡ 
w¡ršg
 &
¡»am
, &
pos
, &
¥aûCouÁ
, &
bCouÁ
);

25 cÚ¡ 
Tok’
* 
G‘Tok’
(
šdex
);

26 cÚ¡ 
w¡ršg
 
	m·th
;

27 
	mveùÜ
<
	mTok’
*> 
	mtok’s
;

28 
	mcu¼’tIndex
;

	@SyntaxParser\Ast\AstParser.cpp

1 
	~"Lex”\Tok’.h
"

2 
	~"Lex”\Tok’Kšd.h
"

3 
	~"Lex”\Tok’SŒ—m.h
"

4 
	~"A¡P¬£r.h
"

5 
	~"SyÁaxP¬£r\Stmt\InşudeStmt.h
"

7 
	gA¡P¬£r
::
	$A¡P¬£r
(cÚ¡ 
w¡ršg
 
fe
)

8 : 
	$Tok’SŒ—m
(
fe
)

9 {
	}
}

11 
A¡P¬£r
::~
	$A¡P¬£r
()

12 {
	}
}

14 cÚ¡ 
TİLev–Stmt
& 
A¡P¬£r
::
	$P¬£
()

16 
this
->
Tok’SŒ—m
.
	`GÙoS¹
();

17 cÚ¡ 
Tok’
 *
tok’
 = 
Tok’SŒ—m
.
	`G‘Cu¼’tTok’
();

18 
tok’
 !ğ
NULL
)

21 
tok’
->
	`G‘Kšd
())

23 
Sh¬p
:

24 
this
->
	`OnSh¬pM‘
();

26 
LSm®lB¿û
:

36 
tok’
 = 
Tok’SŒ—m
.
	`MoveToNextTok’
();

39  *(
this
->
tİLev–Stmt
);

40 
	}
}

42 cÚ¡ 
Stmt
* 
	gA¡P¬£r
::
	$OnSh¬pM‘
()

44 ià(
Tok’SŒ—m
.
	`G‘NextTok’
()->
	`G‘Kšd
(è=ğ
Inşude
)

46  
Ãw
 
	`InşudeStmt
(
Tok’SŒ—m
);

48 
	}
}

	@SyntaxParser\Ast\AstParser.h

1 #iâdeà
__AST_PARSER_H__


2 
	#__AST_PARSER_H__


	)

3 
	~"SyÁaxP¬£r\Stmt\TİLev–Stmt.h
"

5 şas 
	cA¡P¬£r


7 
	mpublic
:

8 
A¡P¬£r
(cÚ¡ 
w¡ršg
 
fe
);

9 ~
A¡P¬£r
();

10 cÚ¡ 
	mTİLev–Stmt
& 
P¬£
();

12 
	m´iv©e
:

13 cÚ¡ 
Stmt
* 
OnSh¬pM‘
();

14 
Tok’SŒ—m
 
	mTok’SŒ—m
;

15 
TİLev–Stmt
* 
	mtİLev–Stmt
;

	@SyntaxParser\Stmt\IncludeStmt.cpp

1 
	~"InşudeStmt.h
"

3 
	gInşudeStmt
::
	$InşudeStmt
(
Tok’SŒ—m
& 
tok’SŒ—m
)

4 : 
	$Stmt
(
tok’SŒ—m
)

6 
	}
}

	@SyntaxParser\Stmt\IncludeStmt.h

1 #iâdeà
__INCLUDE_STMT_H__


2 
	#__INCLUDE_STMT_H__


	)

3 
	~"Stmt.h
"

4 
	~"Lex”\Tok’SŒ—m.h
"

6 şas 
	cInşudeStmt
 : 
public
 
Stmt


8 
public
:

9 
InşudeStmt
(
Tok’SŒ—m
 &TokenStream);

	@SyntaxParser\Stmt\Stmt.cpp

1 
	~"Stmt.h
"

3 
	gStmt
::
	$Stmt
(
Tok’SŒ—m
 &TokenStream)

4 {
	}
}

	@SyntaxParser\Stmt\Stmt.h

1 #iâdeà
__STMT_H__


2 
	#__STMT_H__


	)

3 
	~"Lex”\Tok’SŒ—m.h
"

5 şas 
	cStmt


7 
	mpublic
:

8 
Stmt
(
Tok’SŒ—m
 &TokenStream);

10 
	mpublic
:

12 
vœtu®
 cÚ¡ 
w¡ršg
 
	$Pršt
(
Ëv–
) const

14  
	`_T
("");

17 
vœtu®
 cÚ¡ 
w¡ršg
 
	$ToSŒšg
() const

19  
	`_T
("");

20 
	}
}

	@SyntaxParser\Stmt\TopLevelStmt.cpp

1 
	~"TİLev–Stmt.h
"

3 
	gTİLev–Stmt
::
	$TİLev–Stmt
(
Tok’SŒ—m
 &
tok’SŒ—m
)

4 : 
	$Stmt
(
tok’SŒ—m
)

5 {
	}
}

7 
TİLev–Stmt
::~
	$TİLev–Stmt
()

9 
šdex
 = 0; index < 
this
->
chd»n
.
	`size
(); index++)

11 
d–‘e
 
this
->
chd»n
[
šdex
];

13 
	}
}

15 
	gTİLev–Stmt
::
	$AddChd
(
Stmt
* 
chd
)

17 
this
->
chd»n
.
	`push_back
(
chd
);

18 
	}
}

20 cÚ¡ 
w¡ršg
 
	gTİLev–Stmt
::
	$Pršt
(
Ëv–
) const

22 
w¡ršg
 
»suÉ
 = 
NULL
;

23 
w¡ršg
 
´štS–f
 = 
this
->
	`ToSŒšg
(è+ 
NewLšeSŒ
;

24 
»suÉ
 = 
´štS–f
;

25 
šdex
 = 0; index < 
this
->
chd»n
.
	`size
(); index++)

27 
w¡ršg
 
´štChd
 = 
this
->
chd»n
[
šdex
]->
	`Pršt
(
Ëv–
 + 1);

28 
»suÉ
 +ğ
´štChd
;

31  
»suÉ
;

32 
	}
}

34 cÚ¡ 
w¡ršg
 
	gTİLev–Stmt
::
	$ToSŒšg
() const

36  
	`_T
("TopLevelStmt");

37 
	}
}

	@SyntaxParser\Stmt\TopLevelStmt.h

1 #iâdeà
__TOP_LEVEL_STMT_H__


2 
	#__TOP_LEVEL_STMT_H__


	)

3 
	~"Stmt.h
"

4 
	~"Lex”\Tok’SŒ—m.h
"

6 şas 
	cTİLev–Stmt
 : 
public
 
Stmt


8 
public
:

9 
TİLev–Stmt
(
Tok’SŒ—m
 &TokenStream);

10 ~
TİLev–Stmt
();

11 
AddChd
(
Stmt
 *);

13 
	mpublic
:

14 
vœtu®
 cÚ¡ 
w¡ršg
 
	$Pršt
(
Ëv–
) const;

15 
vœtu®
 cÚ¡ 
w¡ršg
 
	$ToSŒšg
() const;

17 
´iv©e
:

18 
veùÜ
<
Stmt
*> 
chd»n
;

	@SyntaxParser\Symbol\Symbol.h

1 #iâdeà
__TYPE_H__


2 
	#__TYPE_H__


	)

4 şas 
	cTy³


6 
	mpublic
:

7 
Ty³
();

8 ~
Ty³
();

9 cÚ¡ 
w¡ršg
 
G‘Name
();

10 cÚ¡ 
w¡ršg
 
G‘Id
();

12 
	m´iv©e
:

13 
Ty³
 *
·»ÁScİe
;

14 
w¡ršg
 
	mÇme
;

	@SyntaxParser\Symbol\SymbolTable.h

1 #iâdeà
__TYPE_TABLE_H__


2 
	#__TYPE_TABLE_H__


	)

4 şas 
	cTy³TabË


6 
	mpublic
:

7 
Ty³TabË
& 
G‘Me
();

8 
R–—£
();

10 
	m´iv©e
:

11 
Ty³TabË
();

12 
	mm­
<
	mw¡ršg
, 
	mTy³
> 
	mbË
;

	@Test\AstParserTest.cpp

4 
	~<¡ršg
>

5 
	~<f¡»am
>

6 
	~<¡»ambuf
>

7 
	~"SyÁaxP¬£r\A¡\A¡P¬£r.h
"

9 
	$A¡P¬£rTe¡
()

11 
A¡P¬£r
 
	`a¡P¬£r
(
	`_T
("Test.cpp"));

14 
	}
}

	@Test\LexerTest.cpp

4 
	~<¡ršg
>

5 
	~<f¡»am
>

6 
	~<¡»ambuf
>

7 
	~"Lex”\Tok’SŒ—m.h
"

9 
	$Lex”Te¡
()

11 
	#VaDebug


	)

12 
Tok’SŒ—m
 
	`¤cFe
(
	`_T
("Test.cpp"));

13 
	}
}

	@Test\Test.cpp

3 
	~"Basic\CommÚ.h
"

4 
	~"Basic\LoÿtiÚ.h
"

6 
	$_tmaš
(
¬gc
, 
_TCHAR
* 
¬gv
[])

8 
LoÿtiÚ
 
loc
;

9 
	}
}

	@proj.vim

2 
Ët
 
	gs
:
´oj·th
 = 'D:\Projects\Compilers\VimAssist\'

5 
Ët
 &
·th
.=','.
s
:
´oj·th
.'**'

6 
Ët
 &
gs
.=','.
s
:
´oj·th
.'tags'

7 
CŒlPCË¬AÎCaches


8 
cs
 
kl
 -1

9 
Ët
 
s
:
c§ddex´
 = 'c add '.s:
´oj·th
.'cscope.out'

10 
exec
 
s
:
c§ddex´


11 
Ët
 
s
:
cd·thex´
 = 'cd '.s:
´oj·th


12 
exec
 
s
:
cd·thex´


16 
£t
 
com¶‘e
-=
i


18 
£t
 
com¶‘eİt
-=
´ev›w


	@
1
.
0
23
533
Basic\Common.cpp
Basic\Common.h
Basic\Location.h
Lexer\Token.cpp
Lexer\Token.h
Lexer\TokenKind.cpp
Lexer\TokenKind.h
Lexer\TokenStream.cpp
Lexer\TokenStream.h
SyntaxParser\Ast\AstParser.cpp
SyntaxParser\Ast\AstParser.h
SyntaxParser\Stmt\IncludeStmt.cpp
SyntaxParser\Stmt\IncludeStmt.h
SyntaxParser\Stmt\Stmt.cpp
SyntaxParser\Stmt\Stmt.h
SyntaxParser\Stmt\TopLevelStmt.cpp
SyntaxParser\Stmt\TopLevelStmt.h
SyntaxParser\Symbol\Symbol.h
SyntaxParser\Symbol\SymbolTable.h
Test\AstParserTest.cpp
Test\LexerTest.cpp
Test\Test.cpp
proj.vim

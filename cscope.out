cscope 15 D:\Projects\Compilers\VimAssist"               0000027892
	@Basic\Common.cpp

1 
	~"CommÚ.h
"

3 cÚ¡ 
_TCHAR
* 
	gNewLšeSŒ
 = 
_T
("\n");

4 cÚ¡ 
_TCHAR
 
	gNewLšeCh¬
 = '\n';

5 cÚ¡ 
	gS·ûWidth
 = 1;

6 cÚ¡ 
	gTabWidth
 = 4;

	@Basic\Common.h

1 #iâdeà
__COMMON_H__


2 
	#__COMMON_H__


	)

3 #´agm¨
w¬nšg
Ğ
di§bË
 : 4996 )

5 
	~<tch¬.h
>

6 
	~<io¡»am
>

7 
	~<as£¹.h
>

8 
	~<¡ršg
>

10 
usšg
 
Çme¥aû
 
	g¡d
;

12 cÚ¡ 
_TCHAR
* 
NewLšeSŒ
;

13 cÚ¡ 
_TCHAR
 
NewLšeCh¬
;

14 cÚ¡ 
S·ûWidth
;

15 cÚ¡ 
TabWidth
;

	@Basic\Location.h

1 #iâdeà
__SOURCE_LOCATION_H__


2 
	#__SOURCE_LOCATION_H__


	)

4 şas 
	cLoÿtiÚ


6 
	mpublic
:

7 
	$LoÿtiÚ
(
row
, 
cŞumn
)

8 : 
	`Row
(
row
),

9 
	$CŞumn
(
cŞumn
)

13 
	$LoÿtiÚ
()

14 : 
	`Row
(0), 
	$CŞumn
(0)

16 
	}
}

18 
	gRow
;

19 
	gCŞumn
;

	@Lexer\Token.cpp

1 
	~"Lex”\Tok’Kšd.h
"

2 
	~"Lex”\Tok’SŒ—m.h
"

3 
	~"Lex”\Tok’.h
"

5 
	gTok’
::
	$Tok’
(cÚ¡ 
_TCHAR
* 
cÚ‹Á
)

6 : 
	$cÚ‹Á
(
cÚ‹Á
)

8 
this
->
	`P¬£Kšd
();

9 
	}
}

11 
	gTok’
::
	$Tok’
(cÚ¡ 
_TCHAR
 *
cÚ‹Á
, 
LoÿtiÚ
 
loÿtiÚ
)

12 : 
	$cÚ‹Á
(
cÚ‹Á
)

14 
this
->
	`P¬£Kšd
();

15 
this
->
loÿtiÚ
 =†ocation;

16 
	}
}

18 
	gTok’
::~
	$Tok’
()

20 
	}
}

22 
Tok’
::
	$P¬£Kšd
()

24 
this
->
kšd
 = 
Tok’M©ch”
::
	`G‘Me
().
	`G‘Tok’Kšd
Ñhis->
cÚ‹Á
.
	`c_¡r
());

25 
	}
}

27 
Tok’Kšd
 
	gTok’
::
	$G‘Kšd
() const

29  
this
->
kšd
;

30 
	}
}

	@Lexer\Token.h

1 #iâdeà
__TOKEN_H__


2 
	#__TOKEN_H__


	)

3 
	~"Basic\CommÚ.h
"

4 
	~"Basic\LoÿtiÚ.h
"

5 
	gTok’Kšd
;

7 şas 
	cTok’


9 
	mpublic
:

10 
Tok’
(cÚ¡ 
_TCHAR
*);

11 
Tok’
(cÚ¡ 
_TCHAR
 *
cÚ‹Á
, 
LoÿtiÚ
 
loÿtiÚ
);

12 ~
Tok’
();

13 
Tok’Kšd
 
	$G‘Kšd
() const;

14 cÚ¡ 
w¡ršg
 
	$G‘CÚ‹Á
() const

16  
this
->
cÚ‹Á
;

19 
´iv©e
:

20 
	`P¬£Kšd
();

22 
´iv©e
:

23 
Tok’Kšd
 
kšd
;

24 
LoÿtiÚ
 
loÿtiÚ
;

25 
w¡ršg
 
cÚ‹Á
;

26 
	}
};

	@Lexer\TokenKind.cpp

1 
	~"Tok’Kšd.h
"

3 
Tok’M©ch”
* 
	gTok’M©ch”
::
s_Tok’M©ch”
 = 
NULL
;

5 cÚ¡ 
	gTok’M©ch”
& Tok’M©ch”::
	$G‘Me
()

7 ià(
s_Tok’M©ch”
 =ğ
NULL
)

9 
s_Tok’M©ch”
 = 
Ãw
 
	`Tok’M©ch”
();

12  *
s_Tok’M©ch”
;

13 
	}
}

15 
	gTok’M©ch”
::
	$R–—£
()

17 
d–‘e
 
s_Tok’M©ch”
;

18 
	}
}

20 
	gTok’M©ch”
::
	$Tok’M©ch”
()

22 
this
->
	`BudTok’Kšd2Tok’M­
();

23 
this
->
	`BudTok’2Tok’KšdM­
();

24 
	}
}

26 
	gTok’M©ch”
::~
	$Tok’M©ch”
()

27 {
	}
}

29 
Tok’M©ch”
::
	$BudTok’Kšd2Tok’M­
()

31 
this
->
tok’Kšd2Tok’M­
[
If
] = 
	`_T
("if");

32 
this
->
tok’Kšd2Tok’M­
[
El£
] = 
	`_T
("else");

33 
this
->
tok’Kšd2Tok’M­
[
Whe
] = 
	`_T
("while");

34 
this
->
tok’Kšd2Tok’M­
[
Do
] = 
	`_T
("do");

35 
this
->
tok’Kšd2Tok’M­
[
Public
] = 
	`_T
("public");

36 
this
->
tok’Kšd2Tok’M­
[
Priv©e
] = 
	`_T
("private");

37 
this
->
tok’Kšd2Tok’M­
[
PrÙeùed
] = 
	`_T
("protected");

38 
this
->
tok’Kšd2Tok’M­
[
CÚ¡
] = 
	`_T
("const");

39 
this
->
tok’Kšd2Tok’M­
[
Vœtu®
] = 
	`_T
("virtual");

40 
this
->
tok’Kšd2Tok’M­
[
Ty³def
] = 
	`_T
("typedef");

41 
this
->
tok’Kšd2Tok’M­
[
IÁ
] = 
	`_T
("int");

42 
this
->
tok’Kšd2Tok’M­
[
LÚg
] = 
	`_T
("long");

43 
this
->
tok’Kšd2Tok’M­
[
ShÜt
] = 
	`_T
("short");

44 
this
->
tok’Kšd2Tok’M­
[
UshÜt
] = 
	`_T
("ushort");

45 
this
->
tok’Kšd2Tok’M­
[
CÏss
] = 
	`_T
("class");

46 
this
->
tok’Kšd2Tok’M­
[
SŒuù
] = 
	`_T
("struct");

47 
this
->
tok’Kšd2Tok’M­
[
Comma
] = 
	`_T
(",");

48 
this
->
tok’Kšd2Tok’M­
[
SemicŞÚ
] = 
	`_T
(";");

49 
this
->
tok’Kšd2Tok’M­
[
DÙ
] = 
	`_T
(".");

50 
this
->
tok’Kšd2Tok’M­
[
S·û
] = 
	`_T
(" ");

51 
this
->
tok’Kšd2Tok’M­
[
Tab
] = 
	`_T
("\t");

52 
this
->
tok’Kšd2Tok’M­
[
NewLše
] = 
	`_T
("\n");

53 
this
->
tok’Kšd2Tok’M­
[
Plus
] = 
	`_T
("+");

54 
this
->
tok’Kšd2Tok’M­
[
Mšus
] = 
	`_T
("-");

55 
this
->
tok’Kšd2Tok’M­
[
MuÉË
] = 
	`_T
("*");

56 
this
->
tok’Kšd2Tok’M­
[
DivisiÚ
] = 
	`_T
("/");

57 
this
->
tok’Kšd2Tok’M­
[
Gt
] = 
	`_T
(">");

58 
this
->
tok’Kšd2Tok’M­
[
Lt
] = 
	`_T
("<");

59 
this
->
tok’Kšd2Tok’M­
[
And
] = 
	`_T
("&");

60 
this
->
tok’Kšd2Tok’M­
[
Sh¬p
] = 
	`_T
("#");

61 
this
->
tok’Kšd2Tok’M­
[
Bªg
] = 
	`_T
("!");

62 
this
->
tok’Kšd2Tok’M­
[
Que¡iÚM¬k
] = 
	`_T
("?");

63 
this
->
tok’Kšd2Tok’M­
[
Or
] = 
	`_T
("|");

64 
this
->
tok’Kšd2Tok’M­
[
AndAnd
] = 
	`_T
("&&");

65 
this
->
tok’Kšd2Tok’M­
[
OrOr
] = 
	`_T
("||");

66 
this
->
tok’Kšd2Tok’M­
[
LSm®lB¿û
] = 
	`_T
("(");

67 
this
->
tok’Kšd2Tok’M­
[
RSm®lB¿û
] = 
	`_T
(")");

68 
this
->
tok’Kšd2Tok’M­
[
LMiddËB¿û
] = 
	`_T
("[");

69 
this
->
tok’Kšd2Tok’M­
[
RMiddËB¿û
] = 
	`_T
("]");

70 
this
->
tok’Kšd2Tok’M­
[
LL¬geB¿û
] = 
	`_T
("{");

71 
this
->
tok’Kšd2Tok’M­
[
RL¬geB¿û
] = 
	`_T
("}");

72 
this
->
tok’Kšd2Tok’M­
[
BackSÏsh
] = 
	`_T
("\\");

73 
this
->
tok’Kšd2Tok’M­
[
LšeComm’‹r
] = 
	`_T
("//");

74 
this
->
tok’Kšd2Tok’M­
[
BlockComm’‹rBegš
] = 
	`_T
("/*");

75 
this
->
tok’Kšd2Tok’M­
[
BlockComm’‹rEnd
] = 
	`_T
("*/");

76 
this
->
tok’Kšd2Tok’M­
[
Stic
] = 
	`_T
("static");

77 
this
->
tok’Kšd2Tok’M­
[
IâDef
] = 
	`_T
("ifndef");

78 
this
->
tok’Kšd2Tok’M­
[
Defše
] = 
	`_T
("define");

79 
this
->
tok’Kšd2Tok’M­
[
EndIf
] = 
	`_T
("endif");

80 
this
->
tok’Kšd2Tok’M­
[
CŞÚ
] = 
	`_T
(":");

81 
this
->
tok’Kšd2Tok’M­
[
DoubËQuÙa
] = 
	`_T
("\"");

82 
this
->
tok’Kšd2Tok’M­
[
SšgËQuÙa
] = 
	`_T
("\'");

83 
this
->
tok’Kšd2Tok’M­
[
Inşude
] = 
	`_T
("include");

84 
this
->
tok’Kšd2Tok’M­
[
SticCa¡
] = 
	`_T
("static_cast");

85 
this
->
tok’Kšd2Tok’M­
[
DyÇmicCa¡
] = 
	`_T
("dynamic_cast");

86 
this
->
tok’Kšd2Tok’M­
[
Reš‹½»tCa¡
] = 
	`_T
("reinterpret_cast");

87 
this
->
tok’Kšd2Tok’M­
[
CÚ¡Ca¡
] = 
	`_T
("const_cast");

88 
this
->
tok’Kšd2Tok’M­
[
Ty³Of
] = 
	`_T
("typeof");

89 
this
->
tok’Kšd2Tok’M­
[
Ex‹º
] = 
	`_T
("extern");

90 
	}
}

92 
	gTok’M©ch”
::
	$BudTok’2Tok’KšdM­
()

94 
kšd
 = 
Tok’KšdS¹
 + 1; kšd < 
Tok’KšdEnd
; kind++)

96 
w¡ršg
 
tok’
 = 
this
->
tok’Kšd2Tok’M­
[
kšd
];

97 ià(
tok’
.
	`Ëngth
(è=ğ0 && 
kšd
 !ğ
Id’tif›r
)

99 
”rMsg
[128] = { 0 };

100 
	`¥rštf
(
”rMsg
, "Tok’ ha nØcÚ‹Á, Tok’Kšd = %d", 
kšd
);

101 
	`as£¹
(
çl£
, 
”rMsg
);

103 
this
->
tok’2Tok’KšdM­
[
tok’
] = (
Tok’Kšd
è
kšd
;

105 
	}
}

107 
Tok’Kšd
 
	gTok’M©ch”
::
	$G‘Kšd
(cÚ¡ 
_TCHAR
* 
tok’
) const

109 
m­
<
w¡ršg
, 
Tok’Kšd
>::
cÚ¡_™”©Ü
 
™
 = 
this
->
tok’2Tok’KšdM­
.
	`fšd
(
tok’
);

110 ià(
™
 !ğ
this
->
tok’2Tok’KšdM­
.
	`ûnd
())

112  
™
->
£cÚd
;

116  
Id’tif›r
;

118 
	}
}

120 
Tok’Kšd
 
	gTok’M©ch”
::
	$G‘Kšd
(
_TCHAR
 
tok’
) const

122 
TCHAR
 
tok’SŒ
[2] = { 
tok’
, 0 };

123  
this
->
	`G‘Kšd
(
tok’SŒ
);

124 
	}
}

126 
boŞ
 
	gTok’M©ch”
::
	$IsD–im™”
(
Tok’Kšd
 
tok’Kšd
) const

128  (
tok’Kšd
 >ğ
D–im™”S¹
 &&ok’Kšd <ğ
D–im™”End
);

129 
	}
}

	@Lexer\TokenKind.h

1 #iâdeà
__TOKEN_KIND_H__


2 
	#__TOKEN_KIND_H__


	)

3 
	~"Basic\CommÚ.h
"

4 
	~<m­
>

5 
	~"Tok’.h
"

6 
	~<¡ršg
>

8 
	eTok’Kšd


10 
	mTok’KšdS¹
,

13 
	mIf
,

14 
	mEl£
,

15 
	mWhe
,

16 
	mDo
,

19 
	mPublic
,

20 
	mPriv©e
,

21 
	mPrÙeùed
,

24 
	mCÚ¡
,

25 
	mStic
,

26 
	mVœtu®
,

27 
	mEx‹º
,

30 
	mIâDef
,

31 
	mDefše
,

32 
	mEndIf
,

33 
	mInşude
,

36 
	mTy³def
,

37 
	mIÁ
,

38 
	mLÚg
,

39 
	mShÜt
,

40 
	mUshÜt
,

41 
	mCÏss
,

42 
	mSŒuù
,

45 
	mSticCa¡
,

46 
	mDyÇmicCa¡
,

47 
	mReš‹½»tCa¡
,

48 
	mCÚ¡Ca¡
,

49 
	mTy³Of
,

52 
	mD–im™”S¹
,

53 
	mComma
 = 
D–im™”S¹
,

54 
	mSemicŞÚ
,

55 
	mDÙ
,

56 
	mS·û
,

57 
	mTab
,

58 
	mNewLše
,

59 
	mLSm®lB¿û
,

60 
	mRSm®lB¿û
,

61 
	mLMiddËB¿û
,

62 
	mRMiddËB¿û
,

63 
	mLL¬geB¿û
,

64 
	mRL¬geB¿û
,

65 
	mSh¬p
,

66 
	mBackSÏsh
,

67 
	mCŞÚ
,

68 
	mDoubËQuÙa
,

69 
	mSšgËQuÙa
,

71 
	mLšeComm’‹r
,

72 
	mBlockComm’‹rBegš
,

73 
	mBlockComm’‹rEnd
,

75 
	mPlus
,

76 
	mMšus
,

77 
	mMuÉË
,

78 
	mDivisiÚ
,

79 
	mGt
,

80 
	mLt
,

81 
	mQue¡iÚM¬k
,

82 
	mBªg
,

83 
	mAnd
,

84 
	mOr
,

85 
	mD–im™”End
 = 
Or
,

88 
	mAndAnd
,

89 
	mOrOr
,

91 
	mId’tif›r
,

93 
	mTok’KšdEnd
,

96 şas 
	cTok’M©ch”


98 
	mpublic
:

99 
Tok’M©ch”
* 
s_Tok’M©ch”
;

100 cÚ¡ 
	mTok’M©ch”
& 
G‘Me
();

101 
R–—£
();

103 ~
Tok’M©ch”
();

104 
Tok’Kšd
 
	$G‘Kšd
(cÚ¡ 
_TCHAR
* 
tok’
) const;

105 
Tok’Kšd
 
	$G‘Kšd
(
_TCHAR
 
tok’
) const;

106 
boŞ
 
	$IsD–im™”
(
Tok’Kšd
 
tok’Kšd
) const;

108 
´iv©e
:

109 
	`Tok’M©ch”
();

110 
	`BudTok’Kšd2Tok’M­
();

111 
	`BudTok’2Tok’KšdM­
();

113 
w¡ršg
 
tok’Kšd2Tok’M­
[
Tok’KšdEnd
];

114 
m­
<
w¡ršg
, 
Tok’Kšd
> 
tok’2Tok’KšdM­
;

	@Lexer\TokenStream.cpp

1 
	~<f¡»am
>

2 
	~<¡»ambuf
>

3 
	~"Lex”\Tok’SŒ—m.h
"

4 
	~"Tok’Kšd.h
"

5 
	~"Basic\LoÿtiÚ.h
"

7 
	gTok’SŒ—m
::
	$Tok’SŒ—m
(cÚ¡ 
w¡ršg
 
·th
)

8 :
	`·th
(
·th
), 
	$cu¼’tIndex
(0)

10 
this
->
	`P¬£Fe
();

11 
	}
}

13 
	gTok’SŒ—m
::~
	$Tok’SŒ—m
()

15 
i
 = 0; i < 
this
->
tok’s
.
	`size
(); i++)

17 
d–‘e
 
this
->
tok’s
[
i
];

19 
	}
}

21 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$GÙoS¹
()

23 
this
->
cu¼’tIndex
 = 0;

24  
this
->
	`G‘Tok’
Ñhis->
cu¼’tIndex
);

25 
	}
}

27 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$G‘Cu¼’tTok’
() const

29  
this
->
	`G‘Tok’
Ñhis->
cu¼’tIndex
);

30 
	}
}

32 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$G‘NextTok’
() const

34  
this
->
	`G‘Tok’
Ñhis->
cu¼’tIndex
 + 1);

35 
	}
}

37 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$G‘P»vTok’
() const

39  
this
->
	`G‘Tok’
Ñhis->
cu¼’tIndex
 - 1);

40 
	}
}

42 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$G‘Tok’
(
šdex
) const

44 ià(
šdex
 < 0 || index >ğ
this
->
tok’s
.
	`size
())

46  
NULL
;

50  
this
->
tok’s
[
šdex
];

52 
	}
}

54 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$MoveToNextTok’
()

56 
this
->
cu¼’tIndex
++;

57  
this
->
	`G‘Cu¼’tTok’
();

58 
	}
}

60 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$MoveToP»vTok’
()

62 
this
->
cu¼’tIndex
--;

63  
this
->
	`G‘Cu¼’tTok’
();

64 
	}
}

66 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$MoveToTok’ByR–©ivePos
(
pos
)

68 
this
->
cu¼’tIndex
 +ğ
pos
;

69  
this
->
	`G‘Cu¼’tTok’
();

70 
	}
}

72 
	gTok’SŒ—m
::
	$P¬£Fe
()

74 
wif¡»am
 
	`feSŒ—m
(
this
->
·th
);

75 
w¡ršg
 
	`feSŒ
((
i¡»ambuf_™”©Ü
<
_TCHAR
>(
feSŒ—m
)), istreambuf_iterator<_TCHAR>());

76 cÚ¡ 
Tok’M©ch”
& 
tok’M©ch”
 = Tok’M©ch”::
	`G‘Me
();

77 
tok’Row
 = 1;

78 
tok’CŞumn
 = 1;

79 
begšPos
, 
’dPos
 = 0;ƒndPo < 
feSŒ
.
	`size
();ƒndPos < fileStr.size())

82 
¥aûCouÁ
, 
bCouÁ
 = 0;

83 
this
->
	`SkWh™e¥aûs
(
feSŒ
, 
’dPos
, 
¥aûCouÁ
, 
bCouÁ
);

84 
tok’CŞumn
 =ok’CŞumÀ+ 
¥aûCouÁ
 * 
S·ûWidth
 + 
bCouÁ
 * 
TabWidth
;

87 
begšPos
 = 
’dPos
;

88 
Tok’Kšd
 
begšPosTok’Kšd
 = 
tok’M©ch”
.
	`G‘Kšd
(
feSŒ
[
begšPos
]);

89 
boŞ
 
isNewLšeH™
 = 
çl£
;

90 ià(
tok’M©ch”
.
	`IsD–im™”
(
begšPosTok’Kšd
))

92 
’dPos
++;

93 ià(
begšPosTok’Kšd
 =ğ
NewLše
)

95 
isNewLšeH™
 = 
Œue
;

100 !
tok’M©ch”
.
	`IsD–im™”
Ñok’M©ch”.
	`G‘Kšd
(
feSŒ
[
’dPos
])))

102 
’dPos
++;

107 cÚ¡ 
maxCh¬CouÁInTok’
 = 128;

108 
_TCHAR
 
tok’Ch¬s
[
maxCh¬CouÁInTok’
] = { 0 };

109 
feSŒ
.
	`cİy
(
tok’Ch¬s
, 
’dPos
 - 
begšPos
, beginPos);

110 
Tok’
 *
ÃwTok’
 = 
Ãw
 
	`Tok’
(
tok’Ch¬s
, 
	`LoÿtiÚ
(
tok’Row
, 
tok’CŞumn
));

111 
this
->
tok’s
.
	`push_back
(
ÃwTok’
);

112 #ifdeà
VaDebug


113 
wcout
 <<"[" << 
tok’Row
 <<", " <<
tok’CŞumn
 <<"]" <<"\t\t" <<
tok’Ch¬s
 <<
’dl
;

115 
tok’CŞumn
 =ok’CŞumÀ+ (
’dPos
 - 
begšPos
);

117 ià(
isNewLšeH™
)

119 
tok’Row
++;

120 
tok’CŞumn
 = 1;

123 
	}
}

125 
	gTok’SŒ—m
::
	$SkWh™e¥aûs
(cÚ¡ 
w¡ršg
 &
¡»am
, &
pos
, &
¥aûCouÁ
, &
bCouÁ
)

127 
¥aûCouÁ
 = 0;

128 
bCouÁ
 = 0;

130 cÚ¡ 
Tok’M©ch”
 &
tok’M©ch”
 = Tok’M©ch”::
	`G‘Me
();

131 
Tok’Kšd
 
tok’Kšd
 = 
tok’M©ch”
.
	`G‘Kšd
(
¡»am
[
pos
]);

132 
tok’Kšd
 =ğ
S·û
 ||ok’Kšd =ğ
Tab
)

134 ià(
tok’Kšd
 =ğ
S·û
)

136 
¥aûCouÁ
++;

138 ià(
tok’Kšd
 =ğ
Tab
)

140 
bCouÁ
++;

142 
pos
++;

143 
tok’Kšd
 = 
tok’M©ch”
.
	`G‘Kšd
(
¡»am
[
pos
]);

145 
	}
}

148 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$FšdNextT¬g‘Tok’InSameStmt
(
Tok’Kšd
 
tok’Kšd
, & 
¡•s
) const

150  
this
->
	`FšdT¬g‘Tok’InScİe
(
tok’Kšd
, 
¡•s
, 
FÜw¬d
, 
SameStmt
);

151 
	}
}

153 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$FšdNextT¬g‘Tok’InSameLše
(
Tok’Kšd
 
tok’Kšd
, & 
¡•s
) const

155  
this
->
	`FšdT¬g‘Tok’InScİe
(
tok’Kšd
, 
¡•s
, 
FÜw¬d
, 
SameLše
);

156 
	}
}

158 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$FšdT¬g‘Tok’InScİe
(
Tok’Kšd
 
kšd
, & 
¡•s
, 
Tok’S—rchDœeùiÚ
 
dœeùiÚ
, 
Tok’S—rchScİe
 
scİe
) const

160 cÚ¡ 
Tok’
* 
cu¼’tTok’
 = 
this
->
	`G‘Cu¼’tTok’
();

161 
¡•s
 = 0;

164 ià(
dœeùiÚ
 =ğ
FÜw¬d
)

166 
cu¼’tTok’
 = 
this
->
	`G‘NextTok’
();

168 ià(
dœeùiÚ
 =ğ
Backw¬d
)

170 
cu¼’tTok’
 = 
this
->
	`G‘P»vTok’
();

172 
¡•s
++;

174 
cu¼’tTok’
->
	`G‘Kšd
(è!ğ
kšd


175 && (
scİe
 !ğ
SameLše
 || 
cu¼’tTok’
->
	`G‘Kšd
(è!ğ
NewLše
)

176 && (
scİe
 !ğ
SameStmt
 || 
cu¼’tTok’
->
	`G‘Kšd
(è!ğ
RL¬geB¿û
)

177 && (
scİe
 !ğ
SameStmt
 || 
cu¼’tTok’
->
	`G‘Kšd
(è!ğ
SemicŞÚ
));

179 ià(
cu¼’tTok’
->
	`G‘Kšd
(è=ğ
kšd
)

181  
cu¼’tTok’
;

185  
NULL
;

187 
	}
}

190 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$MoveToNextT¬g‘Tok’InSameStmt
(
Tok’Kšd
 
tok’Kšd
)

192 
¡•s
 = 0;

193 cÚ¡ 
Tok’
* 
rg‘
 = 
this
->
	`FšdNextT¬g‘Tok’InSameStmt
(
tok’Kšd
, 
¡•s
);

194 ià(
rg‘
 !ğ
NULL
)

196  
this
->
	`MoveToTok’ByR–©ivePos
(
¡•s
);

200  
NULL
;

202 
	}
}

204 cÚ¡ 
Tok’
* 
	gTok’SŒ—m
::
	$MoveToNextT¬g‘Tok’InSameLše
(
Tok’Kšd
 
tok’Kšd
)

206 
¡•s
 = 0;

207 cÚ¡ 
Tok’
* 
rg‘
 = 
this
->
	`FšdNextT¬g‘Tok’InSameLše
(
tok’Kšd
, 
¡•s
);

208 ià(
rg‘
 !ğ
NULL
)

210  
this
->
	`MoveToTok’ByR–©ivePos
(
¡•s
);

214  
NULL
;

216 
	}
}

	@Lexer\TokenStream.h

1 #iâdeà
__SOURCE_FILE_H__


2 
	#__SOURCE_FILE_H__


	)

3 
	~"Basic\CommÚ.h
"

4 
	~<veùÜ
>

5 
	~<¡ršg
>

6 
	~"Lex”\Tok’Kšd.h
"

8 
şass
 
	gTok’
;

9 
	eTok’S—rchDœeùiÚ


11 
	mFÜw¬d
,

12 
	mBackw¬d
,

15 
	eTok’S—rchScİe


17 
	mSameLše
,

18 
	mSameStmt
,

21 şas 
	cTok’SŒ—m


23 
	mpublic
:

24 
Tok’SŒ—m
(cÚ¡ 
w¡ršg
 
·th
);

25 ~
Tok’SŒ—m
();

27 
P¬£Fe
();

28 cÚ¡ 
Tok’
* 
	$G‘Cu¼’tTok’
() const;

29 cÚ¡ 
Tok’
* 
	$G‘NextTok’
() const;

30 cÚ¡ 
Tok’
* 
	$G‘P»vTok’
() const;

31 cÚ¡ 
Tok’
* 
	`GÙoS¹
();

32 cÚ¡ 
Tok’
* 
	`MoveToNextTok’
();

33 cÚ¡ 
Tok’
* 
	`MoveToP»vTok’
();

34 cÚ¡ 
Tok’
* 
	`MoveToTok’ByR–©ivePos
(
pos
);

37 cÚ¡ 
Tok’
* 
	$FšdNextT¬g‘Tok’InSameStmt
(
Tok’Kšd
 
tok’Kšd
, & 
¡•s
) const;

38 cÚ¡ 
Tok’
* 
	$FšdNextT¬g‘Tok’InSameLše
(
Tok’Kšd
 
tok’Kšd
, & 
¡•s
) const;

41 cÚ¡ 
Tok’
* 
	`MoveToNextT¬g‘Tok’InSameStmt
(
Tok’Kšd
 
tok’Kšd
);

42 cÚ¡ 
Tok’
* 
	`MoveToNextT¬g‘Tok’InSameLše
(
Tok’Kšd
 
tok’Kšd
);

44 
´iv©e
:

45 cÚ¡ 
Tok’
* 
	$FšdT¬g‘Tok’InScİe
(
Tok’Kšd
 
kšd
, & 
¡•s
, 
Tok’S—rchDœeùiÚ
 
dœeùiÚ
, 
Tok’S—rchScİe
 
scİe
) const;

47 
	`SkWh™e¥aûs
(cÚ¡ 
w¡ršg
 &
¡»am
, &
pos
, &
¥aûCouÁ
, &
bCouÁ
);

48 cÚ¡ 
Tok’
* 
	$G‘Tok’
(
šdex
) const;

49 cÚ¡ 
w¡ršg
 
·th
;

50 
veùÜ
<
Tok’
*> 
tok’s
;

51 
cu¼’tIndex
;

	@Project\VimAssist\Test\ArrayTest.cpp

1 
	~<¡ršg
>

2 
	~<m­
>

3 
	~<io¡»am
>

4 
usšg
 
Çme¥aû
 
	g¡d
;

6 
	$A¼aySize
(
a
[])

8 
cout
 <<"a.size(èğ" <<(
a
è/ (è<<
’dl
;

9 
	}
}

11 
	$A¼ayTe¡
()

13 
a
[] = {1, 3,};

14 
	`A¼aySize
(
a
);

15 
	}
}

	@Project\VimAssist\Test\StlTest.cpp

1 
	~<¡ršg
>

2 
	~<m­
>

3 
	~<io¡»am
>

4 
usšg
 
Çme¥aû
 
	g¡d
;

6 şas 
	cA


8 
	mpublic
:

9 
	$A
()

12 
	$A
(
¡ršg
 
Çme
)

13 :
	$Çme
(
Çme
)

14 {
	}
}

16 ~
	$A
()

18 
cout
 <<"~A, " <<
Çme
 <<
’dl
;

19 
	}
}

21 
	g´iv©e
:

22 
¡ršg
 
Çme
;

25 
	$STe¡
()

27 
m­
<
¡ršg
, 
A
> 
çùÜy
;

28 
çùÜy
["haha"] = 
	`A
("haha");

29 
çùÜy
["heihei"] = 
	`A
("heihei");

30 
	}
}

	@SyntaxParser\Ast\AstParser.cpp

1 
	~"Lex”\Tok’.h
"

2 
	~"Lex”\Tok’Kšd.h
"

3 
	~"Lex”\Tok’SŒ—m.h
"

4 
	~"A¡P¬£r.h
"

5 
	~"SyÁaxP¬£r\Stmt\InşudeStmt.h
"

6 
	~"SyÁaxP¬£r\D–im™”AÇly£r\D–im™”AÇly£rFaùÜy.h
"

8 
	gA¡P¬£r
::
	$A¡P¬£r
(cÚ¡ 
w¡ršg
 
fe
)

9 : 
	`tok’SŒ—m
(
fe
),

10 
	`tİLev–Stmt
(
Ãw
 
	$Compo£dStmt
(
tok’SŒ—m
, 
NULL
))

11 {
	}
}

13 
	gA¡P¬£r
::~
	$A¡P¬£r
()

15 
d–‘e
 
this
->
tİLev–Stmt
;

16 
	}
}

18 
Compo£dStmt
* 
	gA¡P¬£r
::
	$P¬£
()

20 
this
->
tok’SŒ—m
.
	`GÙoS¹
();

21 cÚ¡ 
Tok’
 *
tok’
 = 
this
->
tok’SŒ—m
.
	`G‘Cu¼’tTok’
();

22 
tok’
 !ğ
NULL
)

24 
Stmt
* 
¡mt
 = 
D–im™”AÇly£rFaùÜy
::
	`G‘Me
().
	`AÇlyze
(
tok’
->
	`G‘Kšd
(), 
this
->
tok’SŒ—m
,his->
tİLev–Stmt
);

25 ià(
¡mt
 !ğ
NULL
)

27 
this
->
tİLev–Stmt
->
	`AddChd
(
¡mt
);

29 
tok’
 = 
this
->
tok’SŒ—m
.
	`MoveToNextTok’
();

32  
this
->
tİLev–Stmt
;

33 
	}
}

	@SyntaxParser\Ast\AstParser.h

1 #iâdeà
__AST_PARSER_H__


2 
	#__AST_PARSER_H__


	)

3 
	~"SyÁaxP¬£r\Stmt\Compo£dStmt.h
"

5 şas 
	cA¡P¬£r


7 
	mpublic
:

8 
A¡P¬£r
(cÚ¡ 
w¡ršg
 
fe
);

9 ~
A¡P¬£r
();

10 
Compo£dStmt
* 
P¬£
();

12 
	m´iv©e
:

13 
Tok’SŒ—m
 
tok’SŒ—m
;

14 
Compo£dStmt
* 
	mtİLev–Stmt
;

	@SyntaxParser\DelimiterAnalyser\DelimiterAnalyser.cpp

1 
	~<as£¹.h
>

2 
	~"D–im™”AÇly£r.h
"

4 
	gD–im™”AÇly£r
::
	$D–im™”AÇly£r
(
Tok’Kšd
 
d–im™”
)

5 : 
	$d–im™”
(
d–im™”
)

7 
	}
}

9 
Stmt
* 
D–im™”AÇly£r
::
	$AÇlyze
(
Tok’SŒ—m
& 
tok’SŒ—m
, cÚ¡ 
Stmt
* 
·»Á
)

11 ià(
tok’SŒ—m
.
	`G‘Cu¼’tTok’
()->
	`G‘Kšd
(è!ğ
this
->
d–im™”
)

13 
”rMsg
[128] = { 0 };

14 
	`¥rštf
(
”rMsg
, "D–im™”AÇly£¸ÿÀÚly‡Çlyzth¥ecif›d d–im™”, Tok’Kšd = %d", 
this
->
d–im™”
);

17  
this
->
	`IÂ”AÇlyze
(
tok’SŒ—m
, 
·»Á
);

18 
	}
}

20 
Stmt
* 
	gD–im™”AÇly£r
::
	$IÂ”AÇlyze
(
Tok’SŒ—m
& 
tok’SŒ—m
, cÚ¡ 
Stmt
* 
·»Á
)

22  
NULL
;

23 
	}
}

	@SyntaxParser\DelimiterAnalyser\DelimiterAnalyser.h

1 #iâdeà
__DELIMITER_ANALYSER_H__


2 
	#__DELIMITER_ANALYSER_H__


	)

3 
	~"Lex”\Tok’Kšd.h
"

4 
	~"Lex”\Tok’SŒ—m.h
"

5 
	~"SyÁaxP¬£r\Stmt\Stmt.h
"

7 şas 
	cD–im™”AÇly£r


9 
	mpublic
:

10 
D–im™”AÇly£r
(
Tok’Kšd
 
d–im™”
);

11 
Stmt
* 
AÇlyze
(
Tok’SŒ—m
& 
tok’SŒ—m
, cÚ¡ Stmt* 
·»Á
);

13 
	m´Ùeùed
:

14 
vœtu®
 
Stmt
* 
IÂ”AÇlyze
(
Tok’SŒ—m
& 
tok’SŒ—m
, cÚ¡ Stmt* 
·»Á
);

15 
Tok’Kšd
 
	md–im™”
;

	@SyntaxParser\DelimiterAnalyser\DelimiterAnalyserFactory.cpp

1 
	~"D–im™”AÇly£rFaùÜy.h
"

2 
	~"SyÁaxP¬£r\D–im™”AÇly£r\D–im™”AÇly£r_Sh¬p.h
"

3 
	~"Lex”\Tok’Kšd.h
"

5 
D–im™”AÇly£rFaùÜy
* 
	gD–im™”AÇly£rFaùÜy
::
s_D–im™”AÇly£rFaùÜy
 = 
NULL
;

7 
	gD–im™”AÇly£rFaùÜy
& D–im™”AÇly£rFaùÜy::
	$G‘Me
()

9 ià(
s_D–im™”AÇly£rFaùÜy
 =ğ
NULL
)

11 
s_D–im™”AÇly£rFaùÜy
 = 
Ãw
 
	`D–im™”AÇly£rFaùÜy
();

14  *
s_D–im™”AÇly£rFaùÜy
;

15 
	}
}

17 
	gD–im™”AÇly£rFaùÜy
::
	$R–—£
()

19 
d–‘e
 
s_D–im™”AÇly£rFaùÜy
;

20 
	}
}

22 
	gD–im™”AÇly£rFaùÜy
::
	$D–im™”AÇly£rFaùÜy
()

24 
this
->
çùÜy
[
Sh¬p
] = 
Ãw
 
	`D–im™”AÇly£r_Sh¬p
(Sharp);

25 
	}
}

27 
	gD–im™”AÇly£rFaùÜy
::~
	$D–im™”AÇly£rFaùÜy
()

29 
m­
<
Tok’Kšd
, 
D–im™”AÇly£r
*>::
cÚ¡_™”©Ü
 
™
 = 
this
->
çùÜy
.
	`begš
();

30 
™
 !ğ
this
->
çùÜy
.
	`’d
())

32 
d–‘e
 
™
->
£cÚd
;

34 
this
->
çùÜy
.
	`ş—r
();

35 
	}
}

37 
Stmt
* 
	gD–im™”AÇly£rFaùÜy
::
	$AÇlyze
(
Tok’Kšd
 
tok’Kšd
, 
Tok’SŒ—m
 &
tok’SŒ—m
, cÚ¡ 
Stmt
* 
·»Á
)

39 
m­
<
Tok’Kšd
, 
D–im™”AÇly£r
*>::
cÚ¡_™”©Ü
 
™
 = 
this
->
çùÜy
.
	`fšd
(
tok’Kšd
);

40 ià(
™
 !ğ
this
->
çùÜy
.
	`ûnd
())

42  
this
->
çùÜy
[
tok’Kšd
]->
	`AÇlyze
(
tok’SŒ—m
, 
·»Á
);

44  
NULL
;

45 
	}
}

	@SyntaxParser\DelimiterAnalyser\DelimiterAnalyserFactory.h

1 #iâdeà
__DELIMITER_ANALYSER_FACTORY_H__


2 
	#__DELIMITER_ANALYSER_FACTORY_H__


	)

3 
	~"Basic\CommÚ.h
"

4 
	~"Lex”\Tok’Kšd.h
"

5 
	~"SyÁaxP¬£r\Stmt\Stmt.h
"

6 
	~"SyÁaxP¬£r\D–im™”AÇly£r\D–im™”AÇly£r.h
"

8 şas 
	cD–im™”AÇly£rFaùÜy


10 
	mpublic
:

11 
D–im™”AÇly£rFaùÜy
& 
G‘Me
();

12 
R–—£
();

13 
Stmt
* 
AÇlyze
(
Tok’Kšd
 
tok’Kšd
, 
Tok’SŒ—m
 &
tok’SŒ—m
, cÚ¡ Stmt* 
·»Á
);

15 
	m´iv©e
:

16 
D–im™”AÇly£rFaùÜy
();

17 ~
D–im™”AÇly£rFaùÜy
();

19 
D–im™”AÇly£rFaùÜy
* 
	ms_D–im™”AÇly£rFaùÜy
;

20 
	mm­
<
	mTok’Kšd
, 
	mD–im™”AÇly£r
*> 
	mçùÜy
;

	@SyntaxParser\DelimiterAnalyser\DelimiterAnalyser_Sharp.cpp

1 
	~"D–im™”AÇly£r_Sh¬p.h
"

2 
	~"SyÁaxP¬£r\Stmt\InşudeStmt.h
"

4 
Stmt
* 
	gD–im™”AÇly£r_Sh¬p
::
	$IÂ”AÇlyze
(
Tok’SŒ—m
& 
¡»am
, cÚ¡ 
Stmt
* 
·»Á
)

6 
Stmt
* 
¡mt
 = 
NULL
;

7 ià(
	`InşudeStmt
(
¡»am
, 
·»Á
).
	`IsMe
())

9 
¡mt
 = 
Ãw
 
	`InşudeStmt
(
¡»am
, 
·»Á
);

12  
¡mt
;

13 
	}
}

	@SyntaxParser\DelimiterAnalyser\DelimiterAnalyser_Sharp.h

1 #iâdeà
__DELIMITER_ANALYSER_SHARP_H__


2 
	#__DELIMITER_ANALYSER_SHARP_H__


	)

3 
	~"D–im™”AÇly£r.h
"

5 şas 
	cD–im™”AÇly£r_Sh¬p
 : 
public
 
D–im™”AÇly£r


7 
public
:

8 
	$D–im™”AÇly£r_Sh¬p
(
Tok’Kšd
 
tok’Kšd
)

9 : 
	$D–im™”AÇly£r
(
tok’Kšd
)

13 
´Ùeùed
:

14 
vœtu®
 
Stmt
* 
	`IÂ”AÇlyze
(
Tok’SŒ—m
& 
tok’SŒ—m
, cÚ¡ Stmt* 
·»Á
);

15 
	}
};

	@SyntaxParser\StmtVisitor\AstPrinter.cpp

1 
	~"A¡Prš‹r.h
"

3 cÚ¡ 
w¡ršg
 
	gA¡Prš‹r
::
	$Pršt
(cÚ¡ 
Stmt
& 
¡mt
) const

5 
d•th
 = 
this
->
	`G‘D•th
(
¡mt
);

6 
ËadšgS·ûCouÁ
 = 
d•th
 * 
TabWidth
;

7 
w¡ršg
 
s
;

8 
i
 = 0; i < 
ËadšgS·ûCouÁ
; i++)

10 
s
 +ğ
	`_T
(" ");

12 
s
 +ğ
¡mt
.
	`G‘Name
();

15 
wcout
 <<
s
 <<
’dl
;

17  
s
;

18 
	}
}

20 
	gA¡Prš‹r
::
	$Vis™
(cÚ¡ 
InşudeStmt
 &
¡mt
)

22 
this
->
	`Pršt
(
¡mt
);

23 
	}
}

25 
	gA¡Prš‹r
::
	$Vis™
(cÚ¡ 
Compo£dStmt
 &
¡mt
)

27 
this
->
	`Pršt
(
¡mt
);

28 
	}
}

	@SyntaxParser\StmtVisitor\AstPrinter.h

1 #iâdeà
__AST_TRAVERSER_H__


2 
	#__AST_TRAVERSER_H__


	)

3 
	~"SyÁaxP¬£r\StmtVis™Ü\StmtVis™Ü.h
"

5 şas 
	cA¡Prš‹r
 : 
public
 
StmtVis™Ü


7 
´Ùeùed
:

8 
vœtu®
 
Vis™
(cÚ¡ 
InşudeStmt
 &);

9 
vœtu®
 
Vis™
(cÚ¡ 
Compo£dStmt
 &);

11 
	m´iv©e
:

12 cÚ¡ 
w¡ršg
 
	$Pršt
(cÚ¡ 
Stmt
&) const;

	@SyntaxParser\StmtVisitor\StmtVisitor.cpp

1 
	~"StmtVis™Ü.h
"

2 
	~<as£¹.h
>

4 
	gStmtVis™Ü
::
	$Vis™
(cÚ¡ 
Stmt
* 
¡mt
)

6 
¡mt
->
	`G‘Kšd
())

8 
SK_InşudeStmt
:

10 cÚ¡ 
InşudeStmt
* 
šşudeStmt
 = 
dyÇmic_ÿ¡
<cÚ¡ InşudeStmt*>(
¡mt
);

11 ià(
šşudeStmt
 !ğ
NULL
)

13 
this
->
	`Vis™
(*
šşudeStmt
);

17 
SK_Compo£dStmt
:

19 cÚ¡ 
Compo£dStmt
* 
compo£dStmt
 = 
dyÇmic_ÿ¡
<cÚ¡ Compo£dStmt*>(
¡mt
);

20 ià(
compo£dStmt
 !ğ
NULL
)

22 
this
->
	`Vis™
(*
compo£dStmt
);

23 cÚ¡ 
veùÜ
<
Stmt
*> 
chd»n
 = 
compo£dStmt
->
	`G‘Chd»n
();

24 
šdex
 = 0; index < 
chd»n
.
	`size
(); index++)

26 
this
->
	`Vis™
(
chd»n
[
šdex
]);

32 
	`as£¹
(
çl£
, "please update here if‚ew StmtKind‡dded");

35 
	}
}

37 
	gStmtVis™Ü
::
	$G‘D•th
(cÚ¡ 
Stmt
& 
¡mt
) const

39 
d•th
 = 0;

40 cÚ¡ 
Stmt
* 
·»Á
 = 
¡mt
.
	`G‘P¬’t
();

41 
·»Á
 !ğ
NULL
)

43 
d•th
++;

44 
·»Á
 =…¬’t->
	`G‘P¬’t
();

47  
d•th
;

48 
	}
}

	@SyntaxParser\StmtVisitor\StmtVisitor.h

1 #iâdeà
__STMT_VISITOR_H__


2 
	#__STMT_VISITOR_H__


	)

3 
	~"SyÁaxP¬£r\Stmt\Stmt.h
"

4 
	~"SyÁaxP¬£r\Stmt\InşudeStmt.h
"

5 
	~"SyÁaxP¬£r\Stmt\Compo£dStmt.h
"

7 şas 
	cStmtVis™Ü


9 
	mpublic
:

10 
Vis™
(cÚ¡ 
Stmt
 *);

12 
	m´Ùeùed
:

13 
	$G‘D•th
(cÚ¡ 
Stmt
&) const;

15 
vœtu®
 
	`Vis™
(cÚ¡ 
InşudeStmt
 &) = 0;

16 
vœtu®
 
	`Vis™
(cÚ¡ 
Compo£dStmt
 &) = 0;

	@SyntaxParser\Stmt\ComposedStmt.cpp

1 
	~"Compo£dStmt.h
"

3 
	gCompo£dStmt
::
	$Compo£dStmt
(
Tok’SŒ—m
 &
tok’SŒ—m
, cÚ¡ 
Stmt
* 
·»Á
)

4 : 
	$Stmt
(
tok’SŒ—m
, 
·»Á
)

5 {
	}
}

7 
	gCompo£dStmt
::~
	$Compo£dStmt
()

9 
šdex
 = 0; index < 
this
->
chd»n
.
	`size
(); index++)

11 
d–‘e
 
this
->
chd»n
[
šdex
];

13 
this
->
chd»n
.
	`ş—r
();

14 
	}
}

16 
	gCompo£dStmt
::
	$AddChd
(
Stmt
* 
chd
)

18 
this
->
chd»n
.
	`push_back
(
chd
);

19 
	}
}

21 cÚ¡ 
	gveùÜ
<
	gStmt
*> 
	gCompo£dStmt
::
	$G‘Chd»n
() const

23  
this
->
chd»n
;

24 
	}
}

26 cÚ¡ 
w¡ršg
 
	gCompo£dStmt
::
	$G‘Name
() const

28  
	`_T
("ComposedStmt");

29 
	}
}

31 
	gCompo£dStmt
::
	$P¬£
()

33 
	}
}

	@SyntaxParser\Stmt\ComposedStmt.h

1 #iâdeà
__TOP_LEVEL_STMT_H__


2 
	#__TOP_LEVEL_STMT_H__


	)

3 
	~"Stmt.h
"

4 
	~"Lex”\Tok’SŒ—m.h
"

6 şas 
	cCompo£dStmt
 : 
public
 
Stmt


8 
public
:

9 
Compo£dStmt
(
Tok’SŒ—m
 &Tok’SŒ—m, cÚ¡ 
Stmt
* 
·»Á
);

10 ~
Compo£dStmt
();

11 
vœtu®
 cÚ¡ 
StmtKšd
 
	$G‘Kšd
() const

13  
SK_Compo£dStmt
;

15 
vœtu®
 cÚ¡ 
w¡ršg
 
	$G‘Name
() const;

16 
vœtu®
 
boŞ
 
	$IsMe
() const

18  
çl£
;

19 
	}
}

21 
AddChd
(
Stmt
 *);

22 cÚ¡ 
	gveùÜ
<
	gStmt
*> 
	$G‘Chd»n
() const;

24 
´Ùeùed
:

25 
vœtu®
 
	`P¬£
();

27 
´iv©e
:

28 
veùÜ
<
Stmt
*> 
chd»n
;

29 
	}
};

	@SyntaxParser\Stmt\IncludeStmt.cpp

1 
	~"InşudeStmt.h
"

3 
	gInşudeStmt
::
	$InşudeStmt
(
Tok’SŒ—m
& 
tok’SŒ—m
, cÚ¡ 
Stmt
* 
·»Á
)

4 : 
	$Stmt
(
tok’SŒ—m
, 
·»Á
)

6 
this
->
	`P¬£
();

7 
	}
}

9 cÚ¡ 
w¡ršg
 
	gInşudeStmt
::
	$G‘Name
() const

11 
w¡ršg
 
	`Çme
(
	`_T
("IncludeStmt: "));

12 
Çme
 +ğ
this
->
šşudedFe
;

13  
Çme
;

14 
	}
}

16 
boŞ
 
	gInşudeStmt
::
	$IsMe
() const

18 
¡•s
 = 0;

19  
this
->
tok’SŒ—m
.
	`FšdNextT¬g‘Tok’InSameLše
(
Inşude
, 
¡•s
è!ğ
NULL
;

20 
	}
}

22 
	gInşudeStmt
::
	$P¬£
()

24 
this
->
šşudedFe
.
	`ş—r
();

25 
boŞ
 
isInşudedFeInQuÙa
 = 
çl£
;

26 
¡•s
 = 0;

27 ià(
this
->
tok’SŒ—m
.
	`FšdNextT¬g‘Tok’InSameLše
(
DoubËQuÙa
, 
¡•s
è!ğ
NULL
)

29 
isInşudedFeInQuÙa
 = 
Œue
;

31 ià(
this
->
tok’SŒ—m
.
	`FšdNextT¬g‘Tok’InSameLše
(
Lt
, 
¡•s
è!ğ
NULL
)

33 
isInşudedFeInQuÙa
 = 
çl£
;

35 cÚ¡ 
Tok’
* 
cu¼’tTok’
 = 
this
->
tok’SŒ—m
.
	`MoveToTok’ByR–©ivePos
(
¡•s
);

36 
cu¼’tTok’
->
	`G‘Kšd
(è!ğ
DoubËQuÙa


37 && 
cu¼’tTok’
->
	`G‘Kšd
(è!ğ
Lt


38 && 
cu¼’tTok’
->
	`G‘Kšd
(è!ğ
NewLše
)

40 
this
->
šşudedFe
 +ğ
cu¼’tTok’
->
	`G‘CÚ‹Á
();

41 
cu¼’tTok’
 = 
this
->
tok’SŒ—m
.
	`MoveToNextTok’
();

43 
	}
}

	@SyntaxParser\Stmt\IncludeStmt.h

1 #iâdeà
__INCLUDE_STMT_H__


2 
	#__INCLUDE_STMT_H__


	)

3 
	~"Stmt.h
"

4 
	~"Lex”\Tok’SŒ—m.h
"

6 şas 
	cInşudeStmt
 : 
public
 
Stmt


8 
public
:

9 
InşudeStmt
(
Tok’SŒ—m
 &Tok’SŒ—m, cÚ¡ 
Stmt
* 
·»Á
);

10 
vœtu®
 cÚ¡ 
StmtKšd
 
	$G‘Kšd
() const

12  
SK_InşudeStmt
;

14 
vœtu®
 cÚ¡ 
w¡ršg
 
	$G‘Name
() const;

15 
vœtu®
 
boŞ
 
	$IsMe
() const;

17 
´Ùeùed
:

18 
vœtu®
 
	`P¬£
();

19 
w¡ršg
 
šşudedFe
;

20 
	}
};

	@SyntaxParser\Stmt\Stmt.cpp

1 
	~"Stmt.h
"

3 
	gStmt
::
	$Stmt
(
Tok’SŒ—m
 &
tok’SŒ—m
, cÚ¡ 
Stmt
* 
·»Á
)

4 : 
	`tok’SŒ—m
(
tok’SŒ—m
),

5 
	$·»Á
(
·»Á
)

6 {
	}
}

8 cÚ¡ 
Stmt
* 
	gStmt
::
	$G‘P¬’t
() const

10  
this
->
·»Á
;

11 
	}
}

	@SyntaxParser\Stmt\Stmt.h

1 #iâdeà
__STMT_H__


2 
	#__STMT_H__


	)

3 
	~"Lex”\Tok’SŒ—m.h
"

5 
	eStmtKšd


7 
	mSK_InşudeStmt
,

8 
	mSK_Compo£dStmt
,

9 
	mSK_WheStmt
,

10 
	mSK_IfStmt
,

13 şas 
	cStmt


15 
	mpublic
:

16 
Stmt
(
Tok’SŒ—m
& Tok’SŒ—m, cÚ¡ Stmt* 
·»Á
);

18 
vœtu®
 cÚ¡ 
w¡ršg
 
	$G‘Name
() const = 0;

19 
vœtu®
 cÚ¡ 
StmtKšd
 
	$G‘Kšd
() const = 0;

20 
vœtu®
 
boŞ
 
	$IsMe
() const = 0;

21 cÚ¡ 
Stmt
* 
	$G‘P¬’t
() const;

23 
´Ùeùed
:

24 
vœtu®
 
	`P¬£
() = 0;

25 
Tok’SŒ—m
 &
tok’SŒ—m
;

26 cÚ¡ 
Stmt
* 
·»Á
;

	@SyntaxParser\Symbol\Symbol.h

1 #iâdeà
__TYPE_H__


2 
	#__TYPE_H__


	)

4 şas 
	cTy³


6 
	mpublic
:

7 
Ty³
();

8 ~
Ty³
();

9 cÚ¡ 
w¡ršg
 
G‘Name
();

10 cÚ¡ 
w¡ršg
 
G‘Id
();

12 
	m´iv©e
:

13 
Ty³
 *
·»ÁScİe
;

14 
w¡ršg
 
	mÇme
;

	@SyntaxParser\Symbol\SymbolTable.h

1 #iâdeà
__TYPE_TABLE_H__


2 
	#__TYPE_TABLE_H__


	)

4 şas 
	cTy³TabË


6 
	mpublic
:

7 
Ty³TabË
& 
G‘Me
();

8 
R–—£
();

10 
	m´iv©e
:

11 
Ty³TabË
();

12 
	mm­
<
	mw¡ršg
, 
	mTy³
> 
	mbË
;

	@Test\AstParserTest.cpp

4 
	~<¡ršg
>

5 
	~<f¡»am
>

6 
	~<¡»ambuf
>

7 
	~"SyÁaxP¬£r\A¡\A¡P¬£r.h
"

8 
	~"SyÁaxP¬£r\StmtVis™Ü\A¡Prš‹r.h
"

10 
	$A¡P¬£rTe¡
()

12 
A¡P¬£r
 
	`a¡P¬£r
(
	`_T
("D:\\Projects\\Compilers\\VimAssist\\Test\\Test.cpp"));

13 cÚ¡ 
Stmt
* 
tİLev–Stmt
 = 
a¡P¬£r
.
	`P¬£
();

15 
StmtVis™Ü
* 
a¡Prš‹r
 = 
Ãw
 
	`A¡Prš‹r
();

16 
a¡Prš‹r
->
	`Vis™
(
tİLev–Stmt
);

17 
d–‘e
 
a¡Prš‹r
;

18 
	}
}

	@Test\LexerTest.cpp

4 
	~<¡ršg
>

5 
	~<f¡»am
>

6 
	~<¡»ambuf
>

7 
	~"Lex”\Tok’SŒ—m.h
"

9 
	$Lex”Te¡
()

11 
	#VaDebug


	)

12 
Tok’SŒ—m
 
	`¤cFe
(
	`_T
("Test.cpp"));

13 
	}
}

	@Test\Test.cpp

3 
	~"Basic\CommÚ.h
"

4 
	~"Basic\LoÿtiÚ.h
"

5 
A¡P¬£rTe¡
();

6 
STe¡
();

7 
A¼ayTe¡
();

9 
	$_tmaš
(
¬gc
, 
_TCHAR
* 
¬gv
[])

11 
	`A¡P¬£rTe¡
();

14 
	}
}

	@proj.vim

2 
Ët
 
	gs
:
´oj·th
 = 'D:\Projects\Compilers\VimAssist\'

5 
Ët
 &
·th
.=','.
s
:
´oj·th
.'**'

6 
Ët
 &
gs
.=','.
s
:
´oj·th
.'tags'

7 
CŒlPCË¬AÎCaches


8 
cs
 
kl
 -1

9 
Ët
 
s
:
c§ddex´
 = 'c add '.s:
´oj·th
.'cscope.out'

10 
exec
 
s
:
c§ddex´


11 
Ët
 
s
:
cd·thex´
 = 'cd '.s:
´oj·th


12 
exec
 
s
:
cd·thex´


16 
£t
 
com¶‘e
-=
i


18 
£t
 
com¶‘eİt
-=
´ev›w


	@
1
.
0
35
1101
Basic\Common.cpp
Basic\Common.h
Basic\Location.h
Lexer\Token.cpp
Lexer\Token.h
Lexer\TokenKind.cpp
Lexer\TokenKind.h
Lexer\TokenStream.cpp
Lexer\TokenStream.h
Project\VimAssist\Test\ArrayTest.cpp
Project\VimAssist\Test\StlTest.cpp
SyntaxParser\Ast\AstParser.cpp
SyntaxParser\Ast\AstParser.h
SyntaxParser\DelimiterAnalyser\DelimiterAnalyser.cpp
SyntaxParser\DelimiterAnalyser\DelimiterAnalyser.h
SyntaxParser\DelimiterAnalyser\DelimiterAnalyserFactory.cpp
SyntaxParser\DelimiterAnalyser\DelimiterAnalyserFactory.h
SyntaxParser\DelimiterAnalyser\DelimiterAnalyser_Sharp.cpp
SyntaxParser\DelimiterAnalyser\DelimiterAnalyser_Sharp.h
SyntaxParser\StmtVisitor\AstPrinter.cpp
SyntaxParser\StmtVisitor\AstPrinter.h
SyntaxParser\StmtVisitor\StmtVisitor.cpp
SyntaxParser\StmtVisitor\StmtVisitor.h
SyntaxParser\Stmt\ComposedStmt.cpp
SyntaxParser\Stmt\ComposedStmt.h
SyntaxParser\Stmt\IncludeStmt.cpp
SyntaxParser\Stmt\IncludeStmt.h
SyntaxParser\Stmt\Stmt.cpp
SyntaxParser\Stmt\Stmt.h
SyntaxParser\Symbol\Symbol.h
SyntaxParser\Symbol\SymbolTable.h
Test\AstParserTest.cpp
Test\LexerTest.cpp
Test\Test.cpp
proj.vim
